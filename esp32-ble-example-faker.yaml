<<: !include esp32-ble-example-debug.yaml

ogt_bms_ble:
  - ble_client_id: client0
    id: bms0
    update_interval: 60s
    ble_name: ${ble_name}

interval:
  - interval: 30s
    then:
      # +RD,0246
      - lambda: |-
          id(bms0).on_ogt_bms_ble_data({
            0x31, 0x48, 0x5E, 0x36, 0x2A, 0x28, 0x2E, 0x2C, 0x17, 0x10
          });

      - delay: 1s

      # +RD,04251C0A
      - lambda: |-
          id(bms0).on_ogt_bms_ble_data({
            0x31, 0x48, 0x5E, 0x36, 0x2A, 0x2E, 0x28, 0x2F, 0x2B, 0x59, 0x2A, 0x5B, 0x17, 0x10
          });

      - delay: 1s

      # +RD,080034
      - lambda: |-
          id(bms0).on_ogt_bms_ble_data({
            0x31, 0x48, 0x5E, 0x36, 0x2A, 0x22, 0x2A, 0x2A, 0x29, 0x2E, 0x17, 0x10
          });

      - delay: 1s

      # +RD,0C980B
      - lambda: |-
          id(bms0).on_ogt_bms_ble_data({
            0x31, 0x48, 0x5E, 0x36, 0x2A, 0x59, 0x23, 0x22, 0x2A, 0x58, 0x17, 0x10
          });

      - delay: 1s

      # +RD,10D9FF00
      - lambda: |-
          id(bms0).on_ogt_bms_ble_data({
            0x31, 0x48, 0x5E, 0x36, 0x2B, 0x2A, 0x5E, 0x23, 0x5C, 0x5C, 0x2A, 0x2A, 0x17, 0x10
          });

      - delay: 1s

      # +RD,18A42D
      - lambda: |-
          id(bms0).on_ogt_bms_ble_data({
            0x31, 0x48, 0x5E, 0x36, 0x2B, 0x22, 0x5B, 0x2E, 0x28, 0x5E, 0x17, 0x10
          });

      - delay: 1s

      # +RD,2C1A00
      - lambda: |-
          id(bms0).on_ogt_bms_ble_data({
            0x31, 0x48, 0x5E, 0x36, 0x28, 0x59, 0x2B, 0x5B, 0x2A, 0x2A, 0x17, 0x10
          });

      - delay: 1s

      # +RD,0246
      - lambda: |-
          id(bms0).on_ogt_bms_ble_data({
            0x31, 0x48, 0x5E, 0x36, 0x2A, 0x28, 0x2E, 0x2C, 0x17, 0x10
          });

      - delay: 1s

      # +RD,04251C0A
      - lambda: |-
          id(bms0).on_ogt_bms_ble_data({
            0x31, 0x48, 0x5E, 0x36, 0x2A, 0x2E, 0x28, 0x2F, 0x2B, 0x59, 0x2A, 0x5B, 0x17, 0x10
          });

      - delay: 1s

      # +RD,080034
      - lambda: |-
          id(bms0).on_ogt_bms_ble_data({
            0x31, 0x48, 0x5E, 0x36, 0x2A, 0x22, 0x2A, 0x2A, 0x29, 0x2E, 0x17, 0x10
          });

      - delay: 1s

      # +RD,0C980B
      - lambda: |-
          id(bms0).on_ogt_bms_ble_data({
            0x31, 0x48, 0x5E, 0x36, 0x2A, 0x59, 0x23, 0x22, 0x2A, 0x58, 0x17, 0x10
          });

      - delay: 1s

      # +RD,10DCFF00
      - lambda: |-
          id(bms0).on_ogt_bms_ble_data({
            0x31, 0x48, 0x5E, 0x36, 0x2B, 0x2A, 0x5E, 0x59, 0x5C, 0x5C, 0x2A, 0x2A, 0x17, 0x10
          });

      - delay: 1s

      # +RD,18A42D
      - lambda: |-
          id(bms0).on_ogt_bms_ble_data({
            0x31, 0x48, 0x5E, 0x36, 0x2B, 0x22, 0x5B, 0x2E, 0x28, 0x5E, 0x17, 0x10
          });

      - delay: 1s

      # +RD,2C1A00
      - lambda: |-
          id(bms0).on_ogt_bms_ble_data({
            0x31, 0x48, 0x5E, 0x36, 0x28, 0x59, 0x2B, 0x5B, 0x2A, 0x2A, 0x17, 0x10
          });
